<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å°å…”çš„æ¯æ—¥ä»»å‹™</title>
<style>
  body {
    font-family: "Comic Sans MS", sans-serif;
    background: linear-gradient(135deg, #FDEBEB, #FFC3A0);
    text-align: center;
    padding: 20px;
  }
  h1 {
    color: #ff69b4;
  }
  .task {
    background: #fff;
    margin: 10px auto;
    padding: 15px;
    width: 250px;
    border-radius: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    text-align: left;
  }
  input[type="checkbox"] {
    transform: scale(1.3);
    margin-right: 8px;
  }
  .points {
    margin-top: 20px;
    font-size: 1.3em;
    color: #e75480;
  }
  button {
    margin-top: 15px;
    padding: 10px 20px;
    background: #ffa6c9;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1em;
  }
  button:hover {
    background: #ffb6c1;
  }
</style>
</head>
<body>

<h1>ğŸ° å°å…”çš„æ¯æ—¥ä»»å‹™</h1>

<div class="task"><input type="checkbox" class="taskCheck">åƒè”¬èœ</div>
<div class="task"><input type="checkbox" class="taskCheck">å¹«å¿™ç–Šè¡£æœ</div>
<div class="task"><input type="checkbox" class="taskCheck">ç·´å­— 10 åˆ†é˜</div>
<div class="task"><input type="checkbox" class="taskCheck">å¯«åŠŸèª²</div>

<div class="points">â­ ä»Šæ—¥æ˜Ÿæ˜Ÿï¼š<span id="todayPoints">0</span></div>
<div class="points">ğŸŒˆ æœ¬é€±ç´¯ç©ï¼š<span id="weeklyPoints">0</span>/7</div>

<button onclick="resetDay()">ğŸ”„ é‡ç½®ä»Šå¤©</button>
<br>
<button onclick="goHome()">ğŸ  å›é¦–é </button>

<script>
  const today = new Date().toDateString();
  const todayKey = 'kids1_today_' + today;
  const weekKey = 'kids1_weeklyPoints';

  const taskChecks = document.querySelectorAll('.taskCheck');
  const todayPoints = document.getElementById('todayPoints');
  const weeklyPoints = document.getElementById('weeklyPoints');

  let weekly = parseInt(localStorage.getItem(weekKey)) || 0;

  if (localStorage.getItem(todayKey)) {
    taskChecks.forEach(chk => chk.disabled = true);
    todayPoints.textContent = 1;
  }

  taskChecks.forEach(chk => {
    chk.addEventListener('change', () => {
      if ([...taskChecks].every(c => c.checked)) {
        localStorage.setItem(todayKey, true);
        weekly++;
        localStorage.setItem(weekKey, weekly);
        todayPoints.textContent = 1;
        weeklyPoints.textContent = weekly;
        alert("ğŸŒŸ å°å…”å¥½æ£’ï¼ä»Šå¤©ä¹Ÿå®Œæˆå…¨éƒ¨ä»»å‹™ï¼");
        taskChecks.forEach(c => c.disabled = true);
      }
    });
  });

  weeklyPoints.textContent = weekly;

  function resetDay() {
    localStorage.removeItem(todayKey);
    taskChecks.forEach(c => {
      c.checked = false;
      c.disabled = false;
    });
    todayPoints.textContent = 0;
  }

  function goHome() {
    window.location.href = "index.html";
  }

  const todayDate = new Date();
  if (todayDate.getDay() === 1 && !localStorage.getItem('kids1_weekReset_' + todayDate.getFullYear() + todayDate.getMonth() + todayDate.getDate())) {
    localStorage.setItem(weekKey, 0);
    weekly = 0;
    localStorage.setItem('kids1_weekReset_' + todayDate.getFullYear() + todayDate.getMonth() + todayDate.getDate(), true);
  }
</script>

</body>
</html>
